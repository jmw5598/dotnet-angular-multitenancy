<div class="block" *ngIf="userAccountForm" [formGroup]="userAccountForm">
  <!-- <nz-page-header nzTitle="Log In" class="px-0 pb-3 pt-0"></nz-page-header> -->

  <div class="w-100" nz-row [nzGutter]="16">
    <div nz-col class="gutter-row bordered-right" [nzSpan]="8">
      <div class="block p-4">
        <!-- User Avatar -->
        <div class="my-5">
          <img class="block mx-auto my-5" style="border-radius: 50%; width: 128px; height: 128px;" src="https://i.pravatar.cc/300" />
        </div>

        <!-- User Details Section -->
        <nz-divider nzOrientation="left" nzText="Your User Crendentials"></nz-divider>
        <div formGroupName="user">
          <nz-form-item>
            <nz-form-control [nzErrorTip]="emailErrorTemplate">
              <nz-input-group nzPrefixIcon="user">
                <input type="text" nz-input formControlName="username" placeholder="Email" />
              </nz-input-group>
              <ng-template #emailErrorTemplate let-control>
                <ng-container *ngIf="control.hasError('required')">Email is required!</ng-container>
                <ng-container *ngIf="control.hasError('emailExists')">Email already exists!</ng-container>
                <ng-container *ngIf="control.hasError('email')">Invalid email format!</ng-container>
              </ng-template>
            </nz-form-control>
          </nz-form-item>
          <nz-form-item>
            <nz-form-control [nzErrorTip]="passwordErrorTemplate">
              <nz-input-group nzPrefixIcon="lock">
                <input type="password" nz-input formControlName="password" placeholder="Password" />
              </nz-input-group>
              <ng-template #passwordErrorTemplate let-control>
                <ng-container *ngIf="control.hasError('required')">Password is required!</ng-container>
                <ng-container *ngIf="control.hasError('pattern')">Password must be 6 characters (upper/lower case, numbers and symbols)!</ng-container>
              </ng-template>
            </nz-form-control>
          </nz-form-item>
          <nz-form-item>
            <nz-form-control [nzErrorTip]="confirmPasswordErrorTemplate">
              <nz-input-group nzPrefixIcon="lock">
                <input type="password" nz-input formControlName="confirmPassword" placeholder="Confirm Password" />
              </nz-input-group>
              <ng-template #confirmPasswordErrorTemplate let-control>
                <ng-container *ngIf="control.hasError('required')">Confirm Password is required!</ng-container>
                <ng-container *ngIf="control.hasError('mustMatch')">Confirm Password must match Password!</ng-container>
                <ng-container *ngIf="control.hasError('pattern')">Password must be 6 characters (upper/lower case, numbers and symbols)!</ng-container>
              </ng-template>
            </nz-form-control>
          </nz-form-item>
        </div>

        <!-- Profile Details Section -->
        <nz-divider nzOrientation="left" nzText="Your Profile Details"></nz-divider>
        <div formGroupName="profile">
          <nz-form-item>
            <nz-form-control nzErrorTip="Please input your First Name!">
              <nz-input-group nzPrefixIcon="user">
                <input type="text" nz-input formControlName="firstName" placeholder="First Name" />
              </nz-input-group>
            </nz-form-control>
          </nz-form-item>
          <nz-form-item>
            <nz-form-control nzErrorTip="Please input your Last Name!">
              <nz-input-group nzPrefixIcon="user">
                <input type="text" nz-input formControlName="lastName" placeholder="Last Name" />
              </nz-input-group>
            </nz-form-control>
          </nz-form-item>
        </div>
      
      </div>
    </div>
    <div nz-col class="gutter-row" [nzSpan]="16">
      <div class="block p-4">
        <!-- User Details Section -->
        <nz-divider nzOrientation="left" nzText="Your User Crendentials"></nz-divider>
        <div formGroupName="permissions">
          <nz-table 
              *ngIf="assignablePermissions?.length"
              [nzData]="assignablePermissions || []"
              [nzBordered]="tableSettings.bordered"
              [nzSize]="tableSettings.size">
            <thead>
              <tr>
                <th>Permission</th>
                <th>Can Create</th>
                <th>Can Read</th>
                <th>Can Update</th>
                <th>Can Delete</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let permission of assignablePermissions">
                <td>{{ permission?.name }}</td>
                <td><input type="checkbox" /></td>
                <td><input type="checkbox" /></td>
                <td><input type="checkbox" /></td>
                <td><input type="checkbox" /></td>
              </tr>
            </tbody>
          </nz-table>
        </div>
      </div>
    </div>
  </div>
</div>